syntax = "proto3";
package s2s;
import "google/protobuf/any.proto";
message NodeRegister
{
    message Request
    {
        int32 AreaId = 1;   //区服id
        int32 NodeId = 2;   //节点id
        string Address = 3; //地址
        string ServerName = 4;  //服务器名字
        repeated string Services = 5;   //服务名列表
    }
    message Response
    {
        int32 Uid = 1;
    }
}

message NodeInfo
{
    int32 Uid = 1;
    string Address = 2;
    string ServerName = 3;
    repeated string Services = 4;   //服务名列表
}

message NodeQuery
{
    message Request
    {
        int32 AreaId = 1;
        string Service = 2;
    }
    message Response
    {
        repeated NodeInfo NodeInfos = 1;
    }
}

message MysqlQuery
{
    message Request
    {
        google.protobuf.Any Data = 1;
    }
    message Response
    {
        string ErrotStr = 1;
        repeated google.protobuf.Any QueryDatas = 2;
    }
}

message MysqlOper
{
    message Request
    {
        google.protobuf.Any Data = 1;
    }
    message Response
    {
        string ErrorStr = 1;
    }
}
